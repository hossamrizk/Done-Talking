<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcast Summarizer</title>
    <link rel="stylesheet" href="/static/style.css">  <!-- Updated CSS path -->
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-content">
            <a href="/" class="nav-brand">  <!-- Made the brand clickable -->
                <i data-lucide="headphones" class="nav-icon"></i>
                <span class="nav-title">Podcast Summarizer</span>
            </a>
            <div class="nav-links">
                <a href="/download" class="nav-link">  <!-- Updated link -->
                    <i data-lucide="headphones" class="nav-link-icon"></i>
                    <span>Podcast URL</span>
                </a>
                <a href="/upload" class="nav-link">  <!-- Updated link -->
                    <i data-lucide="upload" class="nav-link-icon"></i>
                    <span>Upload Audio</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-container">
        <div class="container">
            <div class="hero-section">
                <h1 class="hero-title">Podcast Summarizer</h1>
                <p class="hero-description">
                    Extract key insights from podcasts and audio files with AI. 
                    Save time and never miss important information again.
                </p>
            </div>
            
            <div class="cards-grid">
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon-wrapper">
                            <i data-lucide="headphones" class="card-icon"></i>
                        </div>
                        <h2 class="card-title">Podcast URL</h2>
                        <p class="card-description">
                            Enter the URL of any podcast episode to get an AI-generated summary and key highlights.
                        </p>
                        <a href="/download" class="btn btn-primary">  <!-- Updated link -->
                            Summarize from URL
                        </a>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon-wrapper">
                            <i data-lucide="upload" class="card-icon"></i>
                        </div>
                        <h2 class="card-title">Upload Audio</h2>
                        <p class="card-description">
                            Upload an audio file from your device to extract the main points and create a concise summary.
                        </p>
                        <a href="/upload" class="btn btn-primary">  <!-- Updated link -->
                            Upload Audio File
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Optional: Add API status indicator -->
    <div id="apiStatus" class="api-status">
        <span id="apiStatusIcon"></span>
        <span id="apiStatusText">Checking API status...</span>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Optional: Check API status
        document.addEventListener('DOMContentLoaded', async () => {
            const statusElement = document.getElementById('apiStatus');
            const statusIcon = document.getElementById('apiStatusIcon');
            const statusText = document.getElementById('apiStatusText');
            
            try {
                const response = await fetch('/v1/home');
                if (response.ok) {
                    const data = await response.json();
                    statusIcon.innerHTML = '<i data-lucide="check-circle" class="text-success"></i>';
                    statusText.textContent = `API connected (${data.app_name} v${data.app_version})`;
                    statusElement.className = 'api-status success';
                } else {
                    throw new Error('API not responding');
                }
            } catch (error) {
                statusIcon.innerHTML = '<i data-lucide="alert-circle" class="text-error"></i>';
                statusText.textContent = 'API connection failed';
                statusElement.className = 'api-status error';
                console.error('API check failed:', error);
            }
            
            // Refresh icons after dynamic insertion
            lucide.createIcons();
        });
    </script>
</body>
</html>